{"ast":null,"code":"import { useState, useMemo, useRef } from 'react';\n\nconst useSearchHeroes = json => {\n  const {\n    0: query,\n    1: setQuery\n  } = useState('');\n  const {\n    0: jsonSearch,\n    1: setJsonSearch\n  } = useState(json);\n  const options = useRef({\n    threshold: 0.0,\n    keys: ['name']\n  });\n  const fuse = useRef(new Fuse(json, options.current));\n  useMemo(() => {\n    if (query === '') {\n      setJsonSearch(json);\n    } else {\n      const search = fuse.current.search(query);\n      const newJson = [];\n      search.forEach(element => {\n        newJson.push(element.item);\n      });\n      setJsonSearch(newJson);\n    }\n  }, [json, query]);\n  return {\n    query,\n    setQuery,\n    jsonSearch\n  };\n};\n\nexport default useSearchHeroes;","map":{"version":3,"sources":["C:/Users/Arielskap/Documents/empiresRataBoy/src/hooks/useSearch.jsx"],"names":["useState","useMemo","useRef","useSearchHeroes","json","query","setQuery","jsonSearch","setJsonSearch","options","threshold","keys","fuse","Fuse","current","search","newJson","forEach","element","push","item"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,OAAnB,EAA4BC,MAA5B,QAA0C,OAA1C;;AAEA,MAAMC,eAAe,GAAIC,IAAD,IAAU;AAChC,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBN,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACO,UAAD;AAAA,OAAaC;AAAb,MAA8BR,QAAQ,CAACI,IAAD,CAA5C;AACA,QAAMK,OAAO,GAAGP,MAAM,CAAC;AACrBQ,IAAAA,SAAS,EAAE,GADU;AAErBC,IAAAA,IAAI,EAAE,CACJ,MADI;AAFe,GAAD,CAAtB;AAMA,QAAMC,IAAI,GAAGV,MAAM,CAAC,IAAIW,IAAJ,CAAST,IAAT,EAAeK,OAAO,CAACK,OAAvB,CAAD,CAAnB;AAEAb,EAAAA,OAAO,CAAC,MAAM;AACZ,QAAII,KAAK,KAAK,EAAd,EAAkB;AAChBG,MAAAA,aAAa,CAACJ,IAAD,CAAb;AACD,KAFD,MAEO;AACL,YAAMW,MAAM,GAAGH,IAAI,CAACE,OAAL,CAAaC,MAAb,CAAoBV,KAApB,CAAf;AACA,YAAMW,OAAO,GAAG,EAAhB;AAEAD,MAAAA,MAAM,CAACE,OAAP,CAAgBC,OAAD,IAAa;AAC1BF,QAAAA,OAAO,CAACG,IAAR,CAAaD,OAAO,CAACE,IAArB;AACD,OAFD;AAIAZ,MAAAA,aAAa,CAACQ,OAAD,CAAb;AACD;AACF,GAbM,EAaJ,CAACZ,IAAD,EAAOC,KAAP,CAbI,CAAP;AAcA,SAAO;AAAEA,IAAAA,KAAF;AAASC,IAAAA,QAAT;AAAmBC,IAAAA;AAAnB,GAAP;AACD,CA1BD;;AA4BA,eAAeJ,eAAf","sourcesContent":["import { useState, useMemo, useRef } from 'react';\r\n\r\nconst useSearchHeroes = (json) => {\r\n  const [query, setQuery] = useState('');\r\n  const [jsonSearch, setJsonSearch] = useState(json);\r\n  const options = useRef({\r\n    threshold: 0.0,\r\n    keys: [\r\n      'name',\r\n    ],\r\n  });\r\n  const fuse = useRef(new Fuse(json, options.current));\r\n\r\n  useMemo(() => {\r\n    if (query === '') {\r\n      setJsonSearch(json);\r\n    } else {\r\n      const search = fuse.current.search(query);\r\n      const newJson = [];\r\n\r\n      search.forEach((element) => {\r\n        newJson.push(element.item);\r\n      });\r\n\r\n      setJsonSearch(newJson);\r\n    }\r\n  }, [json, query]);\r\n  return { query, setQuery, jsonSearch };\r\n};\r\n\r\nexport default useSearchHeroes;\r\n"]},"metadata":{},"sourceType":"module"}